import{r as i,R as S,j as k,b as tt,c as Oe}from"./index-DH1v9iOD.js";import{o as C,p as Te,h as Pe,al as nt,s as Me,K,y as G,n as H,L as Z,am as rt,V as Se,an as ot,I as lt,aj as Ae,a0 as Ne,ao as ye,ap as it,i as at,c as je,a1 as st,a2 as ve,d as q,B as _e,a3 as ut,a4 as ct,j as dt,S as A,C as pt,a5 as ft,a6 as vt,w as le,ak as mt,a7 as bt,b as $e,v as ht,aa as gt,G as xt,D as Ot,a8 as St,a9 as yt,a as I,af as $t,T as Ee,_ as Be,ab as Et,ac as wt,N as It,ae as Rt,ad as Ct,Z as Lt,$ as kt,W as Dt,X as Ft,Y as Tt,R as we,ah as Pt,ai as Mt,z as At}from"./popover-BS2D7N_A.js";import{r as Y}from"./floating-ui.react-dom-9Mo3XjFw.js";import{t as Nt,v as jt}from"./Input-BGdTmRPV.js";function _t({title:e,titleId:n,...t},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Bt=i.forwardRef(_t);let Ut=i.createContext(void 0);function he(){return i.useContext(Ut)}function zt(e,n,t){let[r,o]=i.useState(t),l=e!==void 0,a=i.useRef(l),s=i.useRef(!1),c=i.useRef(!1);return l&&!a.current&&!s.current?(s.current=!0,a.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&a.current&&!c.current&&(c.current=!0,a.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?e:r,C(d=>(l||o(d),n==null?void 0:n(d)))]}function Qt(e){let[n]=i.useState(e);return n}function Ue(e={},n=null,t=[]){for(let[r,o]of Object.entries(e))Qe(t,ze(n,r),o);return t}function ze(e,n){return e?e+"["+n+"]":n}function Qe(e,n,t){if(Array.isArray(t))for(let[r,o]of t.entries())Qe(e,ze(n,r.toString()),o);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):Ue(t,n,e)}function Vt(e){var n,t;let r=(n=e==null?void 0:e.form)!=null?n:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(t=r.requestSubmit)==null||t.call(r)}}let Ht=i.createContext(null);function Kt({children:e}){let n=i.useContext(Ht);if(!n)return S.createElement(S.Fragment,null,e);let{target:t}=n;return t?Y.createPortal(S.createElement(S.Fragment,null,e),t):null}function Gt({data:e,form:n,disabled:t,onReset:r,overrides:o}){let[l,a]=i.useState(null),s=Te();return i.useEffect(()=>{if(r&&l)return s.addEventListener(l,"reset",r)},[l,n,r]),S.createElement(Kt,null,S.createElement(Zt,{setForm:a,formId:n}),Ue(e).map(([c,d])=>S.createElement(Pe,{features:Me.Hidden,...nt({key:c,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:n,disabled:t,name:c,value:d,...o})})))}function Zt({setForm:e,formId:n}){return i.useEffect(()=>{if(n){let t=document.getElementById(n);t&&e(t)}},[e,n]),n?null:S.createElement(Pe,{features:Me.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let r=t.closest("form");r&&e(r)}})}let Xt=i.createContext(void 0);function Ve(){return i.useContext(Xt)}let ie=i.createContext(null);ie.displayName="DescriptionContext";function He(){let e=i.useContext(ie);if(e===null){let n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,He),n}return e}function Yt(){var e,n;return(n=(e=i.useContext(ie))==null?void 0:e.value)!=null?n:void 0}function Qn(){let[e,n]=i.useState([]);return[e.length>0?e.join(" "):void 0,i.useMemo(()=>function(t){let r=C(l=>(n(a=>[...a,l]),()=>n(a=>{let s=a.slice(),c=s.indexOf(l);return c!==-1&&s.splice(c,1),s}))),o=i.useMemo(()=>({register:r,slot:t.slot,name:t.name,props:t.props,value:t.value}),[r,t.slot,t.name,t.props,t.value]);return S.createElement(ie.Provider,{value:o},t.children)},[n])]}let qt="p";function Wt(e,n){let t=i.useId(),r=he(),{id:o=`headlessui-description-${t}`,...l}=e,a=He(),s=G(n);H(()=>a.register(o),[o,a.register]);let c=r||!1,d=i.useMemo(()=>({...a.slot,disabled:c}),[a.slot,c]),p={ref:s,...a.props,id:o};return Z()({ourProps:p,theirProps:l,slot:d,defaultTag:qt,name:a.name||"Description"})}let Jt=K(Wt),Vn=Object.assign(Jt,{}),ae=i.createContext(null);ae.displayName="LabelContext";function Ke(){let e=i.useContext(ae);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Ke),n}return e}function Ge(e){var n,t,r;let o=(t=(n=i.useContext(ae))==null?void 0:n.value)!=null?t:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function en({inherit:e=!1}={}){let n=Ge(),[t,r]=i.useState([]),o=e?[n,...t].filter(Boolean):t;return[o.length>0?o.join(" "):void 0,i.useMemo(()=>function(l){let a=C(c=>(r(d=>[...d,c]),()=>r(d=>{let p=d.slice(),m=p.indexOf(c);return m!==-1&&p.splice(m,1),p}))),s=i.useMemo(()=>({register:a,slot:l.slot,name:l.name,props:l.props,value:l.value}),[a,l.slot,l.name,l.props,l.value]);return S.createElement(ae.Provider,{value:s},l.children)},[r])]}let tn="label";function nn(e,n){var t;let r=i.useId(),o=Ke(),l=Ve(),a=he(),{id:s=`headlessui-label-${r}`,htmlFor:c=l??((t=o.props)==null?void 0:t.htmlFor),passive:d=!1,...p}=e,m=G(n);H(()=>o.register(s),[s,o.register]);let f=C(y=>{let P=y.currentTarget;if(!(y.target!==y.currentTarget&&rt(y.target))&&(Se(P)&&y.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(y),Se(P))){let O=document.getElementById(P.htmlFor);if(O){let $=O.getAttribute("disabled");if($==="true"||$==="")return;let R=O.getAttribute("aria-disabled");if(R==="true"||R==="")return;(ot(O)&&(O.type==="file"||O.type==="radio"||O.type==="checkbox")||O.role==="radio"||O.role==="checkbox"||O.role==="switch")&&O.click(),O.focus({preventScroll:!0})}}}),u=a||!1,x=i.useMemo(()=>({...o.slot,disabled:u}),[o.slot,u]),w={ref:m,...o.props,id:s,htmlFor:c,onClick:f};return d&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in p&&delete p.onClick),Z()({ourProps:w,theirProps:p,slot:x,defaultTag:c?tn:"div",name:o.name||"Label"})}let rn=K(nn),on=Object.assign(rn,{});function ln(e,n){return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&"id"in e&&"id"in n?e.id===n.id:e===n}function an(e=ln){return i.useCallback((n,t)=>{if(typeof e=="string"){let r=e;return(n==null?void 0:n[r])===(t==null?void 0:t[r])}return e(n,t)},[e])}let me=new Map,J=new Map;function Ie(e){var n;let t=(n=J.get(e))!=null?n:0;return J.set(e,t+1),t!==0?()=>Re(e):(me.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Re(e))}function Re(e){var n;let t=(n=J.get(e))!=null?n:1;if(t===1?J.delete(e):J.set(e,t-1),t!==1)return;let r=me.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,me.delete(e))}function sn(e,{allowed:n,disallowed:t}={}){let r=lt(e,"inert-others");H(()=>{var o,l;if(!r)return;let a=Ae();for(let c of(o=t==null?void 0:t())!=null?o:[])c&&a.add(Ie(c));let s=(l=n==null?void 0:n())!=null?l:[];for(let c of s){if(!c)continue;let d=Ne(c);if(!d)continue;let p=c.parentElement;for(;p&&p!==d.body;){for(let m of p.children)s.some(f=>m.contains(f))||a.add(Ie(m));p=p.parentElement}}return a.dispose},[r,n,t])}var un=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(un||{});const ne={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},cn=200;function dn(e,{trigger:n,action:t,close:r,select:o}){let l=i.useRef(null);ye(e&&n!==null,"pointerdown",a=>{it(a==null?void 0:a.target)&&n!=null&&n.contains(a.target)&&(l.current=new Date)}),ye(e&&n!==null,"pointerup",a=>{if(l.current===null||!at(a.target))return;let s=t(a),c=new Date().getTime()-l.current.getTime();switch(l.current=null,s.kind){case 0:return;case 1:{c>cn&&(o(s.target),r());break}case 2:{r();break}}},{capture:!0})}function Ce(e){return[e.screenX,e.screenY]}function pn(){let e=i.useRef([-1,-1]);return{wasMoved(n){let t=Ce(n);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(n){e.current=Ce(n)}}}function fn(e,n){let[t,r]=i.useState(n);return!e&&t!==n&&r(n),e?t:n}function vn(e){throw new Error("Unexpected object: "+e)}var g=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(g||{});function re(e,n){let t=n.resolveItems();if(t.length<=0)return null;let r=n.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let l=0;l<t.length;++l)if(!n.resolveDisabled(t[l],l,t))return l;return r}case 1:{o===-1&&(o=t.length);for(let l=o-1;l>=0;--l)if(!n.resolveDisabled(t[l],l,t))return l;return r}case 2:{for(let l=o+1;l<t.length;++l)if(!n.resolveDisabled(t[l],l,t))return l;return r}case 3:{for(let l=t.length-1;l>=0;--l)if(!n.resolveDisabled(t[l],l,t))return l;return r}case 4:{for(let l=0;l<t.length;++l)if(n.resolveId(t[l],l,t)===e.id)return l;return r}case 5:return null;default:vn(e)}}function mn(e,n){let t=i.useRef({left:0,top:0});if(H(()=>{if(!n)return;let o=n.getBoundingClientRect();o&&(t.current=o)},[e,n]),n==null||!e||n===document.activeElement)return!1;let r=n.getBoundingClientRect();return r.top!==t.current.top||r.left!==t.current.left}let Le=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ke(e){var n,t;let r=(n=e.innerText)!=null?n:"",o=e.cloneNode(!0);if(!je(o))return r;let l=!1;for(let s of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),l=!0;let a=l?(t=o.innerText)!=null?t:"":r;return Le.test(a)&&(a=a.replace(Le,"")),a}function bn(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let t=e.getAttribute("aria-labelledby");if(t){let r=t.split(" ").map(o=>{let l=document.getElementById(o);if(l){let a=l.getAttribute("aria-label");return typeof a=="string"?a.trim():ke(l).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return ke(e).trim()}function hn(e){let n=i.useRef(""),t=i.useRef("");return C(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(n.current===o)return t.current;let l=bn(r).trim().toLowerCase();return n.current=o,t.current=l,l})}var gn=Object.defineProperty,xn=(e,n,t)=>n in e?gn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,De=(e,n,t)=>(xn(e,typeof n!="symbol"?n+"":n,t),t),E=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(E||{}),_=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(_||{}),be=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(be||{}),Ze=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(Ze||{});function Fe(e,n=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=ct(n(e.options.slice()),l=>l.dataRef.current.domRef.current),o=t?r.indexOf(t):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let On={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,pendingFocus:{focus:g.Nothing},listboxState:1,__demoMode:!1}},0(e,n){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,o=e.options.findIndex(l=>r(l.dataRef.current.value));return o!==-1&&(t=o),{...e,pendingFocus:n.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,n){var t,r,o,l,a;if(e.dataRef.current.disabled||e.listboxState===1)return e;let s={...e,searchQuery:"",activationTrigger:(t=n.trigger)!=null?t:1,__demoMode:!1};if(n.focus===g.Nothing)return{...s,activeOptionIndex:null};if(n.focus===g.Specific)return{...s,activeOptionIndex:e.options.findIndex(p=>p.id===n.id)};if(n.focus===g.Previous){let p=e.activeOptionIndex;if(p!==null){let m=e.options[p].dataRef.current.domRef,f=re(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(f!==null){let u=e.options[f].dataRef.current.domRef;if(((r=m.current)==null?void 0:r.previousElementSibling)===u.current||((o=u.current)==null?void 0:o.previousElementSibling)===null)return{...s,activeOptionIndex:f}}}}else if(n.focus===g.Next){let p=e.activeOptionIndex;if(p!==null){let m=e.options[p].dataRef.current.domRef,f=re(n,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(f!==null){let u=e.options[f].dataRef.current.domRef;if(((l=m.current)==null?void 0:l.nextElementSibling)===u.current||((a=u.current)==null?void 0:a.nextElementSibling)===null)return{...s,activeOptionIndex:f}}}}let c=Fe(e),d=re(n,{resolveItems:()=>c.options,resolveActiveIndex:()=>c.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...s,...c,activeOptionIndex:d}},3:(e,n)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,r=e.searchQuery+n.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(a=>{var s;return!a.dataRef.current.disabled&&((s=a.dataRef.current.textValue)==null?void 0:s.startsWith(r))}),l=o?e.options.indexOf(o):-1;return l===-1||l===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:l,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,n)=>{let t=e.options.concat(n.options),r=e.activeOptionIndex;if(e.pendingFocus.focus!==g.Nothing&&(r=re(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let l=t.findIndex(a=>o==null?void 0:o(a.dataRef.current.value));l!==-1&&(r=l)}}return{...e,options:t,activeOptionIndex:r,pendingFocus:{focus:g.Nothing},pendingShouldSort:!0}},6:(e,n)=>{let t=e.options,r=[],o=new Set(n.options);for(let[l,a]of t.entries())if(o.has(a.id)&&(r.push(l),o.delete(a.id),o.size===0))break;if(r.length>0){t=t.slice();for(let l of r.reverse())t.splice(l,1)}return{...e,options:t,activationTrigger:1}},7:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},8:(e,n)=>e.optionsElement===n.element?e:{...e,optionsElement:n.element},9:e=>e.pendingShouldSort?{...e,...Fe(e),pendingShouldSort:!1}:e};class ge extends st{constructor(n){super(n),De(this,"actions",{onChange:t=>{let{onChange:r,compare:o,mode:l,value:a}=this.state.dataRef.current;return q(l,{0:()=>r==null?void 0:r(t),1:()=>{let s=a.slice(),c=s.findIndex(d=>o(d,t));return c===-1?s.push(t):s.splice(c,1),r==null?void 0:r(s)}})},registerOption:ve(()=>{let t=[],r=new Set;return[(o,l)=>{r.has(l)||(r.add(l),t.push({id:o,dataRef:l}))},()=>(r.clear(),this.send({type:5,options:t.splice(0)}))]}),unregisterOption:ve(()=>{let t=[];return[r=>t.push(r),()=>{this.send({type:6,options:t.splice(0)})}]}),goToOption:ve(()=>{let t=null;return[(r,o)=>{t={type:2,...r,trigger:o}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:t,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(t.current.value),this.send({type:2,focus:g.Specific,id:r})}},selectOption:t=>{let r=this.state.options.find(o=>o.id===t);r&&this.actions.onChange(r.dataRef.current.value)},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:7,element:t})},setOptionsElement:t=>{this.send({type:8,element:t})}}),De(this,"selectors",{activeDescendantId(t){var r;let o=t.activeOptionIndex,l=t.options;return o===null||(r=l[o])==null?void 0:r.id},isActive(t,r){var o;let l=t.activeOptionIndex,a=t.options;return l!==null?((o=a[l])==null?void 0:o.id)===r:!1},shouldScrollIntoView(t,r){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,r=_e.get(null);this.disposables.add(r.on(ut.Push,o=>{!r.selectors.isTop(o,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(t)),this.on(1,()=>r.actions.pop(t))}}static new({id:n,__demoMode:t=!1}){return new ge({id:n,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:g.Nothing},__demoMode:t})}reduce(n,t){return q(t.type,On,n,t)}}const Xe=i.createContext(null);function xe(e){let n=i.useContext(Xe);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ye),t}return n}function Ye({id:e,__demoMode:n=!1}){let t=i.useMemo(()=>ge.new({id:e,__demoMode:n}),[]);return dt(()=>t.dispose()),t}let se=i.createContext(null);se.displayName="ListboxDataContext";function ee(e){let n=i.useContext(se);if(n===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ee),t}return n}let Sn=i.Fragment;function yn(e,n){let t=i.useId(),r=he(),{value:o,defaultValue:l,form:a,name:s,onChange:c,by:d,invalid:p=!1,disabled:m=r||!1,horizontal:f=!1,multiple:u=!1,__demoMode:x=!1,...w}=e;const y=f?"horizontal":"vertical";let P=G(n),O=Qt(l),[$=u?[]:void 0,R]=zt(o,c,O),L=Ye({id:t,__demoMode:x}),N=i.useRef({static:!1,hold:!1}),U=i.useRef(new Map),M=an(d),z=i.useCallback(T=>q(b.mode,{[_.Multi]:()=>$.some(W=>M(W,T)),[_.Single]:()=>M($,T)}),[$]),b=i.useMemo(()=>({value:$,disabled:m,invalid:p,mode:u?_.Multi:_.Single,orientation:y,onChange:R,compare:M,isSelected:z,optionsPropsRef:N,listRef:U}),[$,m,p,u,y,R,M,z,N,U]);H(()=>{L.state.dataRef.current=b},[b]);let D=A(L,T=>T.listboxState),Q=_e.get(null),V=A(Q,i.useCallback(T=>Q.selectors.isTop(T,t),[Q,t])),[j,h]=A(L,T=>[T.buttonElement,T.optionsElement]);pt(V,[j,h],(T,W)=>{L.send({type:Ze.CloseListbox}),Pt(W,Mt.Loose)||(T.preventDefault(),j==null||j.focus())});let B=i.useMemo(()=>({open:D===E.Open,disabled:m,invalid:p,value:$}),[D,m,p,$]),[ue,ce]=en({inherit:!0}),de={ref:P},te=i.useCallback(()=>{if(O!==void 0)return R==null?void 0:R(O)},[R,O]),pe=Z();return S.createElement(ce,{value:ue,props:{htmlFor:j==null?void 0:j.id},slot:{open:D===E.Open,disabled:m}},S.createElement(ft,null,S.createElement(Xe.Provider,{value:L},S.createElement(se.Provider,{value:b},S.createElement(vt,{value:q(D,{[E.Open]:le.Open,[E.Closed]:le.Closed})},s!=null&&$!=null&&S.createElement(Gt,{disabled:m,data:{[s]:$},form:a,onReset:te}),pe({ourProps:de,theirProps:w,slot:B,defaultTag:Sn,name:"Listbox"}))))))}let $n="button";function En(e,n){let t=i.useId(),r=Ve(),o=ee("Listbox.Button"),l=xe("Listbox.Button"),{id:a=r||`headlessui-listbox-button-${t}`,disabled:s=o.disabled||!1,autoFocus:c=!1,...d}=e,p=G(n,Rt(),l.actions.setButtonElement),m=Ct(),[f,u,x]=A(l,h=>[h.listboxState,h.buttonElement,h.optionsElement]),w=f===E.Open;dn(w,{trigger:u,action:i.useCallback(h=>{if(u!=null&&u.contains(h.target))return ne.Ignore;let B=h.target.closest('[role="option"]:not([data-disabled])');return je(B)?ne.Select(B):x!=null&&x.contains(h.target)?ne.Ignore:ne.Close},[u,x]),close:l.actions.closeListbox,select:l.actions.selectActiveOption});let y=C(h=>{switch(h.key){case I.Enter:Vt(h.currentTarget);break;case I.Space:case I.ArrowDown:h.preventDefault(),l.actions.openListbox({focus:o.value?g.Nothing:g.First});break;case I.ArrowUp:h.preventDefault(),l.actions.openListbox({focus:o.value?g.Nothing:g.Last});break}}),P=C(h=>{switch(h.key){case I.Space:h.preventDefault();break}}),O=C(h=>{var B;if(h.button===0){if(Lt(h.currentTarget))return h.preventDefault();l.state.listboxState===E.Open?(Y.flushSync(()=>l.actions.closeListbox()),(B=l.state.buttonElement)==null||B.focus({preventScroll:!0})):(h.preventDefault(),l.actions.openListbox({focus:g.Nothing}))}}),$=C(h=>h.preventDefault()),R=Ge([a]),L=Yt(),{isFocusVisible:N,focusProps:U}=kt({autoFocus:c}),{isHovered:M,hoverProps:z}=Dt({isDisabled:s}),{pressed:b,pressProps:D}=Ft({disabled:s}),Q=i.useMemo(()=>({open:f===E.Open,active:b||f===E.Open,disabled:s,invalid:o.invalid,value:o.value,hover:M,focus:N,autofocus:c}),[f,o.value,s,M,N,b,o.invalid,c]),V=A(l,h=>h.listboxState===E.Open),j=Be(m(),{ref:p,id:a,type:Tt(e,u),"aria-haspopup":"listbox","aria-controls":x==null?void 0:x.id,"aria-expanded":V,"aria-labelledby":R,"aria-describedby":L,disabled:s||void 0,autoFocus:c,onKeyDown:y,onKeyUp:P,onKeyPress:$,onPointerDown:O},U,z,D);return Z()({ourProps:j,theirProps:d,slot:Q,defaultTag:$n,name:"Listbox.Button"})}let qe=i.createContext(!1),wn="div",In=we.RenderStrategy|we.Static;function Rn(e,n){let t=i.useId(),{id:r=`headlessui-listbox-options-${t}`,anchor:o,portal:l=!1,modal:a=!0,transition:s=!1,...c}=e,d=bt(o),[p,m]=i.useState(null);d&&(l=!0);let f=ee("Listbox.Options"),u=xe("Listbox.Options"),[x,w,y,P]=A(u,v=>[v.listboxState,v.buttonElement,v.optionsElement,v.__demoMode]),O=$e(w),$=$e(y),R=ht(),[L,N]=gt(s,p,R!==null?(R&le.Open)===le.Open:x===E.Open);xt(L,w,u.actions.closeListbox);let U=P?!1:a&&x===E.Open;Ot(U,$);let M=P?!1:a&&x===E.Open;sn(M,{allowed:i.useCallback(()=>[w,y],[w,y])});let z=x!==E.Open,b=mn(z,w)?!1:L,D=L&&x===E.Closed,Q=fn(D,f.value),V=C(v=>f.compare(Q,v)),j=A(u,v=>{var F;if(d==null||!((F=d==null?void 0:d.to)!=null&&F.includes("selection")))return null;let X=v.options.findIndex(fe=>V(fe.dataRef.current.value));return X===-1&&(X=0),X}),h=(()=>{if(d==null)return;if(j===null)return{...d,inner:void 0};let v=Array.from(f.listRef.current.values());return{...d,inner:{listRef:{current:v},index:j}}})(),[B,ue]=St(h),ce=yt(),de=G(n,d?B:null,u.actions.setOptionsElement,m),te=Te();i.useEffect(()=>{var v;let F=y;F&&x===E.Open&&F!==((v=Ne(F))==null?void 0:v.activeElement)&&(F==null||F.focus({preventScroll:!0}))},[x,y]);let pe=C(v=>{var F,X;switch(te.dispose(),v.key){case I.Space:if(u.state.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),u.actions.search(v.key);case I.Enter:if(v.preventDefault(),v.stopPropagation(),u.state.activeOptionIndex!==null){let{dataRef:fe}=u.state.options[u.state.activeOptionIndex];u.actions.onChange(fe.current.value)}f.mode===_.Single&&(Y.flushSync(()=>u.actions.closeListbox()),(F=u.state.buttonElement)==null||F.focus({preventScroll:!0}));break;case q(f.orientation,{vertical:I.ArrowDown,horizontal:I.ArrowRight}):return v.preventDefault(),v.stopPropagation(),u.actions.goToOption({focus:g.Next});case q(f.orientation,{vertical:I.ArrowUp,horizontal:I.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),u.actions.goToOption({focus:g.Previous});case I.Home:case I.PageUp:return v.preventDefault(),v.stopPropagation(),u.actions.goToOption({focus:g.First});case I.End:case I.PageDown:return v.preventDefault(),v.stopPropagation(),u.actions.goToOption({focus:g.Last});case I.Escape:v.preventDefault(),v.stopPropagation(),Y.flushSync(()=>u.actions.closeListbox()),(X=u.state.buttonElement)==null||X.focus({preventScroll:!0});return;case I.Tab:v.preventDefault(),v.stopPropagation(),Y.flushSync(()=>u.actions.closeListbox()),$t(u.state.buttonElement,v.shiftKey?Ee.Previous:Ee.Next);break;default:v.key.length===1&&(u.actions.search(v.key),te.setTimeout(()=>u.actions.clearSearch(),350));break}}),T=A(u,v=>{var F;return(F=v.buttonElement)==null?void 0:F.id}),W=i.useMemo(()=>({open:x===E.Open}),[x]),We=Be(d?ce():{},{id:r,ref:de,"aria-activedescendant":A(u,u.selectors.activeDescendantId),"aria-multiselectable":f.mode===_.Multi?!0:void 0,"aria-labelledby":T,"aria-orientation":f.orientation,onKeyDown:pe,role:"listbox",tabIndex:x===E.Open?0:void 0,style:{...c.style,...ue,"--button-width":wt(w,!0).width},...Et(N)}),Je=Z(),et=i.useMemo(()=>f.mode===_.Multi?f:{...f,isSelected:V},[f,V]);return S.createElement(It,{enabled:l?e.static||L:!1,ownerDocument:O},S.createElement(se.Provider,{value:et},Je({ourProps:We,theirProps:c,slot:W,defaultTag:wn,features:In,visible:b,name:"Listbox.Options"})))}let Cn="div";function Ln(e,n){let t=i.useId(),{id:r=`headlessui-listbox-option-${t}`,disabled:o=!1,value:l,...a}=e,s=i.useContext(qe)===!0,c=ee("Listbox.Option"),d=xe("Listbox.Option"),p=A(d,b=>d.selectors.isActive(b,r)),m=c.isSelected(l),f=i.useRef(null),u=hn(f),x=mt({disabled:o,value:l,domRef:f,get textValue(){return u()}}),w=G(n,f,b=>{b?c.listRef.current.set(r,b):c.listRef.current.delete(r)}),y=A(d,b=>d.selectors.shouldScrollIntoView(b,r));H(()=>{if(y)return Ae().requestAnimationFrame(()=>{var b,D;(D=(b=f.current)==null?void 0:b.scrollIntoView)==null||D.call(b,{block:"nearest"})})},[y,f]),H(()=>{if(!s)return d.actions.registerOption(r,x),()=>d.actions.unregisterOption(r)},[x,r,s]);let P=C(b=>{var D;if(o)return b.preventDefault();d.actions.onChange(l),c.mode===_.Single&&(Y.flushSync(()=>d.actions.closeListbox()),(D=d.state.buttonElement)==null||D.focus({preventScroll:!0}))}),O=C(()=>{if(o)return d.actions.goToOption({focus:g.Nothing});d.actions.goToOption({focus:g.Specific,id:r})}),$=pn(),R=C(b=>{$.update(b),!o&&(p||d.actions.goToOption({focus:g.Specific,id:r},be.Pointer))}),L=C(b=>{$.wasMoved(b)&&(o||p||d.actions.goToOption({focus:g.Specific,id:r},be.Pointer))}),N=C(b=>{$.wasMoved(b)&&(o||p&&d.actions.goToOption({focus:g.Nothing}))}),U=i.useMemo(()=>({active:p,focus:p,selected:m,disabled:o,selectedOption:m&&s}),[p,m,o,s]),M=s?{}:{id:r,ref:w,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:P,onFocus:O,onPointerEnter:R,onMouseEnter:R,onPointerMove:L,onMouseMove:L,onPointerLeave:N,onMouseLeave:N},z=Z();return!m&&s?null:z({ourProps:M,theirProps:a,slot:U,defaultTag:Cn,name:"Listbox.Option"})}let kn=i.Fragment;function Dn(e,n){let{options:t,placeholder:r,...o}=e,l={ref:G(n)},a=ee("ListboxSelectedOption"),s=i.useMemo(()=>({}),[]),c=a.value===void 0||a.value===null||a.mode===_.Multi&&Array.isArray(a.value)&&a.value.length===0,d=Z();return S.createElement(qe.Provider,{value:!0},d({ourProps:l,theirProps:{...o,children:S.createElement(S.Fragment,null,r&&c?r:t)},slot:s,defaultTag:kn,name:"ListboxSelectedOption"}))}let Fn=K(yn),Tn=K(En),Pn=on,Mn=K(Rn),An=K(Ln),Nn=K(Dn),oe=Object.assign(Fn,{Button:Tn,Label:Pn,Options:Mn,Option:An,SelectedOption:Nn});function jn({title:e,titleId:n,...t},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":n},t),e?i.createElement("title",{id:n},e):null,i.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Hn=i.forwardRef(jn);function Kn({options:e,value:n=[]}){const[t,r]=i.useState([]);return i.useEffect(()=>{r(n)},[n]),k.jsx(oe,{value:t,onChange:o=>{var l;r(o);for(const a in e)(l=e[a])==null||l.call(e,o.includes(a))},multiple:!0,children:k.jsxs("div",{className:"relative flex",children:[k.jsxs(oe.Button,{className:"flex items-center relative w-full bg-primary-10 text-xs rounded-full text-primary-500 py-1 px-2 text-center focus:outline-none focus-visible:border-accent-500 focus-visible:ring-2 focus-visible:ring-light focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-brand-300 cursor-pointer",children:[k.jsxs("span",{className:"flex truncate items-center",children:[k.jsx(Bt,{className:"h-3 w-3 mr-0 sm:mr-1"})," ",k.jsx("span",{className:"sr-only sm:not-sr-only",children:"Show"})]}),k.jsx(Nt,{className:"ml-2 h-4 w-4","aria-hidden":"true"})]}),k.jsx(At,{as:i.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:k.jsx(oe.Options,{className:"absolute top-8 right-0 z-50 max-h-60 min-w-16 overflow-auto rounded-md bg-theme py-2 shadow-lg ring-2 ring-primary-10 ring-opacity-5 focus:outline-none sm:text-sm",children:Object.keys(e).filter(o=>e[o]).map(o=>k.jsx(oe.Option,{className:({active:l,disabled:a})=>Oe("relative cursor-default select-none py-1 pl-10 pr-4",a?"opacity-50 cursor-not-allowed":"",l?"bg-primary-10 text-primary-500":"text-neutral-700 dark:text-neutral-300"),value:o,disabled:tt(!!e[o]),children:({selected:l})=>k.jsxs(k.Fragment,{children:[k.jsx("span",{children:o}),k.jsx("span",{className:Oe("absolute inset-y-0 left-0 flex items-center pl-3 text-primary-500",l?"block":"hidden"),children:k.jsx(jt,{className:"h-4 w-4","aria-hidden":"true"})})]})},o))})})]})})}export{Ke as C,Hn as F,Vn as H,Kn as L,Ge as N,en as Q,zt as T,Yt as U,on as V,he as a,pn as b,g as c,mn as d,an as e,re as f,ne as g,Gt as j,dn as k,Qt as l,Vt as p,hn as s,Ve as u,Qn as w,sn as y};
